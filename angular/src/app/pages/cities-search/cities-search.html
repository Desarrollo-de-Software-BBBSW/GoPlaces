<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Buscar ciudades por nombre</h2>
</div>
<div class="container mt-4">
  <div class="card shadow">
    <div class="card-body">
      
      <div class="form-group mb-4">
        <label for="citySearchInput">Buscar Ciudad (mínimo 3 caracteres)</label>
        <div class="input-group">
          <input 
            type="text" 
            class="form-control" 
            id="citySearchInput" 
            placeholder="Escribe el nombre de la ciudad..."
            [formControl]="searchControl">
          
          <div *ngIf="isLoading" class="input-group-append">
            <span class="input-group-text">
              <i class="fa fa-spinner fa-spin"></i>
            </span>
          </div>
        </div>
      </div>
      
      <div *ngIf="errorMessage" class="alert alert-danger" role="alert">
        <strong>Error:</strong> {{ errorMessage }}
      </div>
      
      <div *ngIf="cities.length > 0 && !isLoading">
        <h5>Resultados Encontrados ({{ cities.length }})</h5>
        <hr>
        
        <table class="table table-striped table-hover">
          <thead>
            <tr>
              <th>ID</th>
              <th>Nombre</th>
              <th>País</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let city of cities">
              <td>{{ city.id }}</td>
              <td>{{ city.name }}</td>
              <td>{{ city.country }}</td>
            </tr>
          </tbody>
        </table>
      </div>

      <div *ngIf="!cities.length && searchControl.value && !isLoading && !errorMessage" class="alert alert-info">
        No se encontraron ciudades con el nombre: <strong>"{{ searchControl.value }}"</strong>.
      </div>

    </div>
  </div>
</div>
